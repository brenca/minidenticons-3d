const t=4,e=5,o=18,r=50,s=50,n=80,i=90-n,l=25,c=40-l,a=16777619,d=2166136261;function g(t){return t.split("").reduce(((t,e)=>((t^e.charCodeAt(0))>>>0)*a),d)}export function identicon(o,n=r,i=s){const l=g(o),c=colors(o,n,i),a=[...Array(o?e*e:0)].reduce(((o,r,s)=>{const n=~~(s/e)>=e/2?~~(3*e/2)-~~(s/e):~~(s/e),i=1+~~(e/2);return l%(i*e-1+2-s%(i*e))<t?o.concat({x:.866*n,y:s%e-.5*n}):o}),[]).sort(((t,e)=>e.x-t.x+e.y-t.y)).map((t=>`<use href="#identicon-svg-cube-${l}" y="${t.y}" x="${t.x}"/>`));return`<svg viewBox="-3 -3 ${e+6} ${e+6}" xmlns="http://www.w3.org/2000/svg"><defs><g stroke-width="0.05" id="identicon-svg-cube-${l}"><path d="M 0 0 L -0.866 -0.5 L -0.866 0.5 L 0 1 L 0 0" fill="${c.darkColor}" stroke="${c.darkColor}"/><path d="M 0 0 L -0.866 -0.5 L 0 -1 L 0.866 -0.5 L 0 0" fill="${c.lightColor}" stroke="${c.lightColor}"/><path d="M 0 0 L 0.866 -0.5 L 0.866 0.5 L 0 1 L 0 0" fill="${c.color}" stroke="${c.color}"/></g></defs><g transform="translate(0.75 1.5)">`+a+"</g></svg>"}export function colors(t,e=r,d=s){const h=g(t),u=h/a%o*(360/o);return{color:`hsl(${u} ${e}% ${d}%)`,lightColor:`hsl(${u} ${e}% ${parseFloat(d)+15}%)`,darkColor:`hsl(${u} ${~~(parseFloat(e)/2)}% ${parseFloat(d)-15}%)`,backgroundColor:`hsl(${u} ${h/a%c+l}% ${h/a%i+n}%)`}}export const identiconSvg=globalThis.customElements?.define("identicon-svg",class extends HTMLElement{connectedCallback(){this.identiconSvg()}attributeChangedCallback(){this.identiconSvg()}static get observedAttributes(){return["username","saturation","lightness"]}identiconSvg(){this.innerHTML=identicon(this.getAttribute("username")||"",this.getAttribute("saturation")||r,this.getAttribute("lightness")||s)}});