const t=4,o=5,e=18,s=50,n=50,r=80,i=90-r,a=25,c=40-a,l=16777619,d=2166136261;function g(t){return t.split("").reduce(((t,o)=>((t^o.charCodeAt(0))>>>0)*l),d)}export function identicon(e,r=s,i=n){const a=g(e),c=colors(e,r,i),l=[...Array(e?o*o:0)].reduce(((e,s,n)=>{const r=~~(n/o)>=o/2?~~(3*o/2)-~~(n/o):~~(n/o),i=1+~~(o/2);return a%(i*o-1+2-n%(i*o))<t?e.concat({x:.866*r,y:n%o-.5*r,xCoord:r,yCoord:n%o,animationOffset:(a-7*n+13)%5-3}):e}),[]).sort(((t,o)=>o.x-t.x+o.y-t.y)).map((t=>`<use class="cube" href="#identicon-svg-cube-${a}" y="${t.y}" x="${t.x}" data-x="${t.xCoord}" data-y="${t.yCoord}" data-animation-offset="${t.animationOffset}"/>`));return`<svg class="minidenticon-3d-svg" viewBox="-3 -3 ${o+6} ${o+6}" xmlns="http://www.w3.org/2000/svg"><defs><g stroke-width="0.05" id="identicon-svg-cube-${a}"><path d="M 0 0 L -0.866 -0.5 L -0.866 0.5 L 0 1 L 0 0" class="side-face" fill="${c.darkColor}" stroke="${c.darkColor}"/><path d="M 0 0 L -0.866 -0.5 L 0 -1 L 0.866 -0.5 L 0 0" class="top-face" fill="${c.lightColor}" stroke="${c.lightColor}"/><path d="M 0 0 L 0.866 -0.5 L 0.866 0.5 L 0 1 L 0 0" class="front-face" fill="${c.color}" stroke="${c.color}"/></g></defs><g transform="translate(0.75 1.5)">`+l+"</g></svg>"}export function colors(t,o=s,d=n){const $=g(t),u=$/l%e*(360/e);return{color:`hsl(${u} ${o}% ${d}%)`,lightColor:`hsl(${u} ${o}% ${parseFloat(d)+15}%)`,darkColor:`hsl(${u} ${~~(parseFloat(o)/2)}% ${parseFloat(d)-15}%)`,backgroundColor:`hsl(${u} ${$/l%c+a}% ${$/l%i+r}%)`}}export const identiconSvg=globalThis.customElements?.define("identicon-svg",class extends HTMLElement{connectedCallback(){this.identiconSvg()}attributeChangedCallback(){this.identiconSvg()}static get observedAttributes(){return["username","saturation","lightness"]}identiconSvg(){this.innerHTML=identicon(this.getAttribute("username")||"",this.getAttribute("saturation")||s,this.getAttribute("lightness")||n)}});