const t=4,e=5,o=18,n=50,r=50,s=16777619,i=2166136261;function l(t){return t.split("").reduce(((t,e)=>((t^e.charCodeAt(0))>>>0)*s),i)}export function identicon(o,s=n,i=r){const c=l(o),a=colors(o,s,i),d=[...Array(o?e*e:0)].reduce(((o,n,r)=>{const s=~~(r/e)>=e/2?~~(3*e/2)-~~(r/e):~~(r/e),i=1+~~(e/2);return c%(i*e-1+2-r%(i*e))<t?o.concat({x:.866*s,y:r%e-.5*s}):o}),[]).sort(((t,e)=>e.x-t.x+e.y-t.y)).map((t=>`<use href="#identicon-svg-cube-${c}" y="${t.y}" x="${t.x}"/>`));return`<svg viewBox="-3 -3 ${e+6} ${e+6}" xmlns="http://www.w3.org/2000/svg"><defs><g stroke-width="0.05" id="identicon-svg-cube-${c}"><path d="M 0 0 L -0.866 -0.5 L -0.866 0.5 L 0 1 L 0 0" fill="${a.darkColor}" stroke="${a.darkColor}"/><path d="M 0 0 L -0.866 -0.5 L 0 -1 L 0.866 -0.5 L 0 0" fill="${a.lightColor}" stroke="${a.lightColor}"/><path d="M 0 0 L 0.866 -0.5 L 0.866 0.5 L 0 1 L 0 0" fill="${a.color}" stroke="${a.color}"/></g></defs><g transform="translate(0.75 1.5)">`+d+"</g></svg>"}export function colors(t,e=n,i=r){const c=l(t)/s%o*(360/o);return{color:`hsl(${c} ${e}% ${i}%)`,lightColor:`hsl(${c} 50% 65%)`,darkColor:`hsl(${c} 25% 35%)`}}export const identiconSvg=globalThis.customElements?.define("identicon-svg",class extends HTMLElement{connectedCallback(){this.identiconSvg()}attributeChangedCallback(){this.identiconSvg()}static get observedAttributes(){return["username","saturation","lightness"]}identiconSvg(){this.innerHTML=identicon(this.getAttribute("username")||"",this.getAttribute("saturation")||n,this.getAttribute("lightness")||r)}});