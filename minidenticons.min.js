const t=4,e=5,s=18,n=50,i=50,r=16777619,o=2166136261;export function identicon(c,a=n,d=i){const g=c.split("").reduce(((t,e)=>((t^e.charCodeAt(0))>>>0)*r),o);const l=g/r%s*(360/s),h=[...Array(c?e*e:0)].reduce(((s,n,i)=>{const r=~~(i/e)>=e/2?~~(3*e/2)-~~(i/e):~~(i/e),o=1+~~(e/2);return g%(o*e-1+2-i%(o*e))<t?s.concat({x:.866*r,y:i%e-.5*r}):s}),[]).sort(((t,e)=>e.x-t.x+e.y-t.y)).map((t=>`<use href="#identicon-svg-cube-${g}" y="${t.y}" x="${t.x}"/>`)),u=`hsl(${l} ${a}% ${d}%)`,$=`hsl(${l} 50% 65%)`,L=`hsl(${l} 25% 35%)`;return`<svg viewBox="-3 -3 ${e+6} ${e+6}" xmlns="http://www.w3.org/2000/svg"><defs><g stroke-width="0.05" id="identicon-svg-cube-${g}"><path d="M 0 0 L -0.866 -0.5 L -0.866 0.5 L 0 1 L 0 0" fill="${L}" stroke="${L}"/><path d="M 0 0 L -0.866 -0.5 L 0 -1 L 0.866 -0.5 L 0 0" fill="${$}" stroke="${$}"/><path d="M 0 0 L 0.866 -0.5 L 0.866 0.5 L 0 1 L 0 0" fill="${u}" stroke="${u}"/></g></defs><g transform="translate(0.75 1.5)">`+h+"</g></svg>"}export const identiconSvg=globalThis.customElements?.define("identicon-svg",class extends HTMLElement{connectedCallback(){this.identiconSvg()}attributeChangedCallback(){this.identiconSvg()}static get observedAttributes(){return["username","saturation","lightness"]}identiconSvg(){this.innerHTML=identicon(this.getAttribute("username")||"",this.getAttribute("saturation")||n,this.getAttribute("lightness")||i)}});